<!-- ADD-REVIEW TEST용 HTML입니다 -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>리뷰 작성</title>
</head>
<body>
<input type="hidden" id="reviewId" th:value="${meeting.id}">
<h1 th:if="${meeting.id != null}" th:text="'리뷰 수정'">리뷰 수정</h1>
<h1 th:if="${meeting.id == null}" th:text="'리뷰 등록'">리뷰 등록</h1>

<form action="/api/meeting" method="post" enctype="multipart/form-data">

    <!-- 리뷰 제목 입력 -->
    <div>
        <label for="title">제목</label>
        <input type="text" id="title" th:value="*{meeting.title}" />
    </div>
    <div>
        <label for="title">내용</label>
        <input type="text" id="content" th:value="*{meeting.content}" />
    </div>
    <div>
        <label for="title">장소</label>
        <input type="text" id="location" th:value="*{meeting.location}" />
    </div>
    <label for="visitTime">방문 시간</label>
    <select id="visitTime" name="visitTime">
        <option value="">시간 선택</option>
        <!-- 스크립트에 의해 옵션이 여기에 삽입될 것입니다 -->
    </select>

    <!-- 방문 시간 선택 -->
    <!--    <label for="visitTime">방문 시간</label>-->
    <!--    <select id="visitTime" name="visitTime">-->
    <!--        <option value="">시간 선택</option>-->
    <!--        &lt;!&ndash; 스크립트에 의해 옵션이 여기에 삽입될 것입니다 &ndash;&gt;-->
    <!--    </select>-->

    <script>
        // 시간 옵션을 생성하기 위한 스크립트입니다.
        document.addEventListener('DOMContentLoaded', function() {
            var select = document.getElementById('visitTime');
            for (var hour = 0; hour < 24; hour++) {
                // 시간과 분을 처리합니다.
                ['00', '30'].forEach(function(minute) {
                    var timeValue = (hour < 10 ? '0' + hour : hour) + ':' + minute;
                    var option = new Option(timeValue, timeValue);
                    select.add(option);
                });
            }
            // '24:00' 옵션을 추가합니다.
            select.add(new Option('24:00', '24:00'));
        });
    </script>


    <div>
        <label for="restaurant">식당 선택:</label>
        <select id="restaurant" name="restaurantId">
            <option value="" disabled selected>식당을 선택하세요</option>
            <!-- 식당 목록을 동적으로 생성 -->
            <option th:each="restaurant : ${restaurants}" th:value="${restaurant.id}" th:text="${restaurant.name} + ' / ' + ${restaurant.address}"></option>
        </select>
    </div>
    <div>
        <button th:if="${meeting.id} == null" type="button" id="post-review-btn">리뷰 등록</button>
        <button th:if="${meeting.id} != null" type="button" id="modi-review-btn">리뷰 수정</button>
    </div>
</form>
<script src="/js/meeting.js"></script>
</body>
</html>